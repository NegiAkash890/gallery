(this.webpackJsonpcount=this.webpackJsonpcount||[]).push([[0],{104:function(e,t,c){},110:function(e,t,c){},111:function(e,t,c){"use strict";c.r(t);var i=c(0),n=c.n(i),a=c(46),l=c.n(a),s=(c(98),c(71),c(134)),r=c(27),o=c(33),d=c(9),j=(c(104),c(13)),b=c(4),u=c(135),O={CREATE_COLLECTION:"CREATE_COLLECTION",UPDATE_COLLECTION:"UPDATE_COLLECTION",DELETE_COLLECTION:"DELETE_COLLECTION"},h=c(45),p=c(128),m=c(129),x=c(130),f=c(133),g=c(138),v=c(124),C=c(125),E=c(126),T=c(136),k=c(137),S=c(2);var y=function(){var e=Object(d.g)().id,t=Object(d.f)(),c=Object(i.useState)(!1),n=Object(b.a)(c,2),a=n[0],l=n[1],s=Object(i.useState)(""),y=Object(b.a)(s,2),L=y[0],N=y[1],_=Object(r.b)(),I=Object(i.useState)(""),D=Object(b.a)(I,2),A=D[0],w=D[1],P=Object(i.useState)(""),z=Object(b.a)(P,2),R=z[0],q=z[1],F=Object(i.useState)([]),U=Object(b.a)(F,2),X=U[0],B=U[1],V=Object(i.useState)(""),H=Object(b.a)(V,2),W=H[0],J=H[1],M=Object(i.useState)(""),Y=Object(b.a)(M,2),G=Y[0],Z=Y[1],K=Object(r.c)((function(e){return e.collections.collections}));Object(i.useEffect)((function(){var t,c,i,n=K.filter((function(t){return t.id===e}));w(null===(t=n[0])||void 0===t?void 0:t.name),q(null===(c=n[0])||void 0===c?void 0:c.description),B(null===(i=n[0])||void 0===i?void 0:i.images)}),[]);var Q=function(e,t){switch(t){case"name":w(e.target.value);break;case"description":q(e.target.value);break;case"link":J(e.target.value);break;case"alt":Z(e.target.value)}};return Object(S.jsxs)(v.a,{maxW:"xl",mt:"10",children:[Object(S.jsxs)(g.a,{status:"error",mb:2,hidden:!a,children:[Object(S.jsx)(g.b,{}),L]}),Object(S.jsxs)(C.a,{display:"flex",justifyContent:"space-between",children:[Object(S.jsx)("h2",{children:"Editing Collection"}),Object(S.jsxs)(C.a,{mb:"2",display:"flex",alignItems:"center",children:[Object(S.jsx)(f.a,{mr:"2",type:"submit",size:"xs",onClick:function(c){return c.preventDefault(),A.length<5?(N("Name should be atleast 5 character long"),l(!0),void setTimeout((function(){l(!1)}),3e3)):R.length<5?(N("Longer description atleast 10 characters long"),l(!0),void setTimeout((function(){l(!1)}),3e3)):0===X.length?(N("Please provide image data"),l(!0),void setTimeout((function(){l(!1)}),3e3)):(_({type:O.UPDATE_COLLECTION,payload:{id:e,name:A,description:R,images:X}}),void t.push("/"))},disabled:a,children:"Update"}),Object(S.jsx)(o.b,{to:"/",onClick:function(c){c.preventDefault(),_(function(e){return{type:O.DELETE_COLLECTION,payload:e}}(e)),t.push("/")},children:Object(S.jsx)(E.a,{fontSize:"xs",color:"red.400",children:"Delete"})})]})]}),Object(S.jsx)("hr",{}),Object(S.jsx)("br",{}),Object(S.jsx)("form",{children:Object(S.jsxs)(T.a,{spacing:4,children:[Object(S.jsxs)(h.a,{children:[Object(S.jsx)(p.a,{children:"Collection Id"}),Object(S.jsx)(m.a,{type:"text",value:e,placeholder:"Collection Id",disabled:!0})]}),Object(S.jsxs)(h.a,{isRequired:!0,children:[Object(S.jsx)(p.a,{children:"Collection Name"}),Object(S.jsx)(m.a,{type:"text",onChange:function(e){return Q(e,"name")},value:A,placeholder:"Enter Collection Name"})]}),Object(S.jsxs)(h.a,{isRequired:!0,children:[Object(S.jsx)(p.a,{children:"Collection Description"}),Object(S.jsx)(x.a,{onChange:function(e){return Q(e,"description")},defaultValue:R,id:"collection_description",placeholder:"Enter Description",isRequired:!0})]}),Object(S.jsxs)(h.a,{children:[Object(S.jsx)(p.a,{children:"Add Images "}),Object(S.jsx)(m.a,{type:"url",onChange:function(e){return Q(e,"link")},placeholder:"Image Link",value:W}),Object(S.jsx)(m.a,{mt:2,type:"name",onChange:function(e){return Q(e,"alt")},placeholder:"Alternate Text",value:G}),Object(S.jsx)(f.a,{mt:2,w:"sm",d:"block",verticalAlign:"right",onClick:function(e){if(e.preventDefault(),W.length<8||0===G.length)return N("Please Fill Link Image Fields Properly"),l(!0),void setTimeout((function(){l(!1)}),3e3);var t=Object(u.a)(),c=[].concat(Object(j.a)(X),[{id:t,link:W,alt:G}]);B(c)},colorScheme:"teal",variant:"outline",children:"Add Image"}),Object(S.jsx)("div",{className:"image_preview",children:0!==X.length?X.map((function(e){return Object(S.jsxs)("div",{className:"list_item",children:[Object(S.jsx)(f.a,{backgroundColor:"red.400",size:"xs",position:"absolute",left:"90",top:"1",onClick:function(t){return function(e,t){e.preventDefault();var c=X.filter((function(e){return e.id!==t}));B(c)}(t,e.id)},children:"x"}),Object(S.jsx)(k.a,{boxSize:"100px",objectFit:"cover",src:e.link,fallbackSrc:"https://via.placeholder.com/150"},e.id)]},e.id)})):"No Images to show"})]})]})})]})},L=c(139),N=c(131);var _=function(e){var t=e.name,c=e.description,i=e.id,n=e.images;return Object(S.jsxs)(C.a,{className:"collection_card",children:[Object(S.jsxs)(C.a,{borderBottom:"1px",pb:"2",borderColor:"gray.200",display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(S.jsx)(N.a,{as:"h3",size:"md",children:t||"Heading"}),Object(S.jsxs)("p",{className:"image_count",children:[n.length," ",n.length>1?"items":"item"]})]}),Object(S.jsxs)(C.a,{mt:"5",children:[Object(S.jsx)(N.a,{as:"h4",size:"sm",children:"Description"}),Object(S.jsx)(E.a,{fontSize:"xs",mt:2,color:"gray.600",isTruncated:!0,children:c||"Description goes here"}),Object(S.jsx)(C.a,{className:"collection_card_image",children:0===n.length?"No Images to Show":n.map((function(e){return Object(S.jsx)(k.a,{p:"1",boxSize:"100px",objectFit:"cover",src:e.link,alt:e.alt},e.id)}))}),Object(S.jsx)(o.b,{to:"/edit/".concat(i),children:Object(S.jsx)(C.a,{display:"flex",alignItems:"center",children:Object(S.jsx)(L.a,{ml:2})})}),Object(S.jsx)(d.a,{path:"/edit/:id",component:y})]})]})};var I=function(){var e=Object(r.c)((function(e){return e.collections.collections}));return Object(S.jsx)("div",{className:"home",children:e.map((function(e){return Object(S.jsx)(_,{name:e.name,description:e.description,id:e.id,images:e.images},e.id)}))})},D=c(132),A=(c(110),Object(u.a)());var w=function(){var e=Object(d.f)(),t=Object(r.b)(),c=Object(i.useState)(!1),n=Object(b.a)(c,2),a=n[0],l=n[1],s=Object(i.useState)(""),o=Object(b.a)(s,2),E=o[0],y=o[1],L=Object(i.useState)(""),N=Object(b.a)(L,2),_=N[0],I=N[1],D=Object(i.useState)(""),w=Object(b.a)(D,2),P=w[0],z=w[1],R=Object(i.useState)([]),q=Object(b.a)(R,2),F=q[0],U=q[1],X=Object(i.useState)(""),B=Object(b.a)(X,2),V=B[0],H=B[1],W=Object(i.useState)(""),J=Object(b.a)(W,2),M=J[0],Y=J[1],G=function(c){return c.preventDefault(),_.length<5?(y("Name should be atleast 5 character long"),l(!0),void setTimeout((function(){l(!1)}),3e3)):P.length<5?(y("Longer description atleast 10 characters long"),l(!0),void setTimeout((function(){l(!1)}),3e3)):0===F.length?(y("Please provide image data"),l(!0),void setTimeout((function(){l(!1)}),3e3)):(t({type:O.CREATE_COLLECTION,payload:{id:A,name:_,description:P,images:F}}),A=Object(u.a)(),void e.push("/"))},Z=function(e,t){"name"===t?I(e.target.value):"description"===t?z(e.target.value):"link"===t?H(e.target.value):"alt"===t&&Y(e.target.value)};return Object(S.jsxs)(v.a,{maxW:"xl",mt:"4",children:[Object(S.jsxs)(g.a,{status:"error",mb:2,hidden:!a,children:[Object(S.jsx)(g.b,{}),E]}),Object(S.jsx)("form",{children:Object(S.jsxs)(T.a,{spacing:4,children:[Object(S.jsx)(C.a,{display:"flex",alignItems:"center",justifyContent:"flex-end",width:"100%",children:Object(S.jsx)(f.a,{type:"submit",size:"sm",colorScheme:"teal",onClick:function(e){return G(e)},disabled:a,children:"Create Collection"})}),Object(S.jsxs)(h.a,{children:[Object(S.jsx)(p.a,{children:"Collection Id"}),Object(S.jsx)(m.a,{type:"text",value:A,placeholder:"Collection Id",disabled:!0})]}),Object(S.jsxs)(h.a,{isRequired:!0,children:[Object(S.jsx)(p.a,{children:"Collection Name"}),Object(S.jsx)(m.a,{type:"text",onChange:function(e){return Z(e,"name")},value:_,placeholder:"Enter Collection Name",required:!0})]}),Object(S.jsxs)(h.a,{isRequired:!0,children:[Object(S.jsx)(p.a,{children:"Collection Description"}),Object(S.jsx)(x.a,{onChange:function(e){return Z(e,"description")},defaultValue:P,id:"collection_description",placeholder:"Enter Description",isRequired:!0})]}),Object(S.jsxs)(h.a,{children:[Object(S.jsx)(p.a,{children:"Add Images"}),Object(S.jsx)(m.a,{type:"url",onChange:function(e){return Z(e,"link")},placeholder:"Image Link",value:V}),Object(S.jsx)(m.a,{mt:2,type:"name",onChange:function(e){return Z(e,"alt")},placeholder:"Alternate Text",value:M}),Object(S.jsx)(f.a,{mt:2,d:"block",verticalAlign:"right",onClick:function(e){e.preventDefault();var t=Object(u.a)();if(V.length<8||0===M.length)return y("Please Fill Link Image Fields Properly"),l(!0),void setTimeout((function(){l(!1)}),3e3);var c=[].concat(Object(j.a)(F),[{id:t,link:V,alt:M}]);U(c)},colorScheme:"teal",variant:"outline",children:"Add Image"}),Object(S.jsx)("div",{className:"image_preview",mb:"4",children:F.map((function(e){return Object(S.jsxs)("div",{className:"list_item",children:[Object(S.jsx)(f.a,{backgroundColor:"red.400",size:"xs",position:"absolute",left:"90",top:"0",onClick:function(t){return function(e,t){e.preventDefault();var c=F.filter((function(e){return e.id!==t}));U(c)}(t,e.id)},children:"x"}),Object(S.jsx)(k.a,{boxSize:"100px",objectFit:"cover",src:e.link,fallbackSrc:"https://via.placeholder.com/150"},e.id)]},e.id)}))})]})]})})]})};var P=function(){return Object(S.jsx)(s.a,{children:Object(S.jsx)(o.a,{children:Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(C.a,{bg:"blue.500",children:Object(S.jsxs)(D.a,{display:"flex",p:"4",children:[Object(S.jsx)(D.b,{color:"white",ml:"3",children:Object(S.jsx)(o.b,{to:"/",children:"Home"})}),Object(S.jsx)(D.b,{color:"white",ml:"3",children:Object(S.jsx)(o.b,{to:"/create_new",children:"Create"})})]})}),Object(S.jsxs)(d.c,{children:[Object(S.jsx)(d.a,{exact:!0,path:"/create_new",children:Object(S.jsx)(w,{})}),Object(S.jsx)(d.a,{exact:!0,path:"/",children:Object(S.jsx)(I,{})}),Object(S.jsx)(d.a,{exact:!0,path:"/edit/:id",children:Object(S.jsx)(y,{})})]})]})})})},z=c(58),R=c(37),q={collections:[{id:"acd1",name:"Animal Collection",description:"Farhan's Snaps",images:[{id:"121",link:"https://i.picsum.photos/id/367/200/200.jpg?hmac=6NmiWxiENMBIeAXEfu9fN20uigiBudgYzqHfz-eXZYk",alt:"PicSum"}]},{id:"bcd1",name:"Anime Collection",description:"Tokyo Ghoul",images:[{id:"123",link:"https://picsum.photos/200/300?grayscale",alt:"PicSum"}]},{id:"def1",name:"Country Collection",description:"Country Side Collections",images:[{id:"100",link:"https://picsum.photos/200/300/?blur=2",alt:"PicSum"}]},{id:"ghi1",name:"Dog Collection",description:"All breeds of dogs",images:[{id:"99",link:"https://picsum.photos/id/237/200/300",alt:"PicSum"}]}]},F=Object(z.a)({collections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,c=t.type,i=t.payload;switch(c){case O.CREATE_COLLECTION:return Object(R.a)(Object(R.a)({},e),{},{collections:[].concat(Object(j.a)(e.collections),[i])});case O.UPDATE_COLLECTION:var n=e.collections.findIndex((function(e){return e.id===i.id})),a=e.collections.splice(n,1,i);return Object(R.a)(Object(R.a)({},e),{},{updatedState:a});case O.DELETE_COLLECTION:var l=e.collections.filter((function(e){return e.id!==i}));return Object(R.a)(Object(R.a)({},e),{},{collections:l});default:return e}}}),U=Object(z.b)(F,{},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(r.a,{store:U,children:Object(S.jsx)(P,{})})}),document.getElementById("root"))},71:function(e,t,c){},98:function(e,t,c){}},[[111,1,2]]]);
//# sourceMappingURL=main.b7e8e446.chunk.js.map